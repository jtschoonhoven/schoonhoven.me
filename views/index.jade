extends layout

block content
  .container
    #expand.btn.btn-link.pull-right Toggle Sidebar
    .row
      h1 jonathan<small>.</small>schoonhoven<small>.</small>me
      p A personal website and sandbox for Node + Express + D3
      hr

    .row
      #sidebar.col-sm-3
        ul.nav.nav-pills.nav-stacked
          li(data-value='oneDimension').active: a(href='#') 1-Dimensional Data
          li(data-value='twoDimension'): a(href='#') 2-Dimensional Data
          li(data-value='threeDimension'): a(href='#') 3-Dimensional Data
      #content.col-sm-9
        #chartTypes.btn-group.btn-group-sm
          #toJSON.btn.btn-link.active(data-value='json') JSON
          #toDotMatrix.btn.btn-link(data-value='dotMatrix') Dot Matrix
          #toTable.btn.btn-link(data-value='table') Table
          #toBoxAndWhisker.btn.btn-link(data-value='boxAndWhisker') Quartiles
        #canvas
      hr
  script

    var table = !{tableObj} ;

    draw(table.oneDimension.rows, 'json');

    // new chart type
    $('#chartTypes .btn').click(function(){ 
      draw(table.sign_dist.rows, $(this).attr('data-value'));
      $('.btn').not(this).removeClass('active'); 
      $(this).addClass('active'); 
    });

    // new data set
    $('#sidebar li').click(function(){
      draw(table[$(this).attr('data-value')].rows, 'json');
      $('li').not(this).removeClass('active');
      $(this).addClass('active');
      })
    
    // toggle widescreen
    $('#expand').click(function(){ 
      $('#sidebar').toggleClass('hidden'); 
      $('#content').toggleClass('col-sm-9');
      $('#content').toggleClass('col-sm-12');
      $(this).toggleClass('active'); 
    });

